(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{220:function(t,e,n){"use strict";n(36);var c={name:"Icon",props:{name:{type:String,required:!0}},computed:{className:function(){return"icon icon-".concat(this.name)}}},l=n(10),component=Object(l.a)(c,function(){var t=this.$createElement;return(this._self._c||t)("i",{class:this.className})},[],!1,null,null,null);e.a=component.exports},221:function(t,e,n){"use strict";n(24),n(19),n(13),n(8),n(20);var c=n(2),l=(n(51),n(67),n(23)),r=n(1),o=n(7);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable})),e.push.apply(e,n)}return e}function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(source,!0).forEach(function(e){Object(c.a)(t,e,source[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(source).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))})}return t}var h={name:"Header",props:{type:{type:String,default:"",validator:function(t){return!t.length||["static"].includes(t)}},date:{type:String,default:""}},data:function(){return{isFixed:!1,minHeight:null}},computed:f({},Object(l.c)({tabs:"".concat(r.e.COMMON,"/").concat(r.d.VIEWS)}),{classes:function(){return this.type&&"header_".concat(this.type)},isStatic:function(){return"static"===this.type},hasDate:function(){return this.date&&this.date.length}}),mounted:function(){var t=this;Object(o.a)(function(){return!t.isStatic&&window.addEventListener("scroll",t.handleScroll)})},destroyed:function(){var t=this;Object(o.a)(function(){return!t.isStatic&&window.removeEventListener("scroll",t.handleScroll)})},methods:f({},Object(l.b)({changeView:"".concat(r.e.COMMON,"/").concat(r.a.CHANGE_VIEW)}),{handleScroll:function(){var t=this.$refs,e=t.inner;t.main.getBoundingClientRect().top>0?(this.isFixed=!1,this.minHeight=null,this.$emit("fixed",!1)):(this.isFixed=!0,this.minHeight="".concat(e.offsetHeight,"px"),this.$emit("fixed",!0)),this.$emit("scroll",{height:e.offsetHeight})}})},_=n(10),component=Object(_.a)(h,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{ref:"main",staticClass:"header",class:t.classes,style:{"min-height":t.minHeight}},[n("div",{ref:"inner",staticClass:"header__inner",class:{"is-fixed":t.isFixed}},[n("div",{staticClass:"container header__container"},[n("div",{staticClass:"title-xl header__title"},[t._v("Safnaðu")]),t._v(" "),n("ul",{staticClass:"header__tabs"},t._l(t.tabs,function(e){return n("li",{key:e.target,staticClass:"header__tabs-item"},[n("button",{staticClass:"header__tabs-btn",class:{"is-active":e.isActive},on:{click:function(n){return n.preventDefault(),t.changeView(e.target)}}},[t._v("\n            "+t._s(e.text)+"\n          ")])])}),0),t._v(" "),t.hasDate?n("div",{staticClass:"header__date"},[n("div",{staticClass:"header__date-in"},[t._v(t._s(t.date))])]):t._e()])])])},[],!1,null,null,null);e.a=component.exports},222:function(t,e,n){"use strict";n.r(e);n(36);var c,l=n(88),r=(n(24),n(19),n(13),n(8),n(20),n(127),n(2)),o=n(23),d=n(1),f=n(7),h=n(39),_=(c=null,function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;c&&clearTimeout(c),c=setTimeout(function(){return t()},e)}),v=n(31),O=n(48),m=n(221),C=n(110),E={name:"Tag",components:{Icon:n(220).a},props:{isSelected:{type:Boolean,default:!1}}},S=n(10),y={name:"TagList",components:{Tag:Object(S.a)(E,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tag",class:{"is-selected":t.isSelected}},[n("button",{staticClass:"tag__btn",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.$emit("click")}}},[t._t("default")],2),t._v(" "),n("button",{staticClass:"tag__close",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.$emit("clear")}}},[n("Icon",{staticClass:"tag__close-icon",attrs:{name:"close"}})],1)])},[],!1,null,null,null).exports},props:{items:{type:Array,default:function(){return[]},validator:function(t){return!t.length||t.every(function(option){return Object(v.a)(option.id)&&Object(v.a)(option.text)})}}},data:function(){return{isOpened:!1,value:null,oldDate:null}},watch:{isOpened:function(t){var e=this;Object(f.a)(function(){return t?document.addEventListener("click",e.closeOnOutsideClick,!0):document.removeEventListener("click",e.closeOnOutsideClick,!0)})}},methods:{handleClear:function(){this.$emit("change",{value:null})},handleClearDatepicker:function(){this.handleClear(),this.oldDate=null,this.value=null},handleClick:function(t){this.$emit("change",t)},handleSelected:function(t){var e=this;this.oldDate&&t&&this.oldDate.getTime()===t.getTime()?this.$nextTick(function(){e.value=null,e.oldDate=null}):this.oldDate=t,this.handleClick({value:t}),this.close()},closeOnOutsideClick:function(t){var e=this;t.path.some(function(t){return t===e.$refs.datepicker})||this.close()},toggle:function(){this.isOpened?this.close():this.open()},open:function(){this.isOpened=!0},close:function(){this.isOpened=!1}}},D=Object(S.a)(y,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tag-list"},[n("ul",{staticClass:"tag-list__list"},t._l(t.items,function(e){return n("li",{key:e.id,staticClass:"tag-list__item"},[e.isDatepicker?n("Tag",{attrs:{"is-selected":e.isSelected},on:{click:t.toggle,clear:t.handleClearDatepicker}},[t._v("\n        "+t._s(e.text)+"\n      ")]):n("Tag",{attrs:{"is-selected":e.isSelected},on:{click:function(n){return t.handleClick(e)},clear:function(n){return t.handleClear(e)}}},[t._v("\n        "+t._s(e.text)+"\n      ")])],1)}),0),t._v(" "),t.isOpened?[n("no-ssr",[n("div",{ref:"datepicker"},[n("Datepicker",{staticClass:"tag-list__datepicker",attrs:{inline:!0},on:{selected:t.handleSelected},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)])]:t._e()],2)},[],!1,null,null,null).exports,j=(n(128),{name:"Input",model:{prop:"modelValue",event:"model-changed"},props:{modelValue:{type:[String,Number],default:""},isError:{type:Boolean,default:!1}},methods:{handleInput:function(t){this.$emit("model-changed",t.target.value),this.$emit("input",t)}}});function T(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable})),e.push.apply(e,n)}return e}function w(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?T(source,!0).forEach(function(e){Object(r.a)(t,e,source[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):T(source).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))})}return t}var M={name:"Filters",components:{TagList:D,Input:Object(S.a)(j,function(){var t=this,e=t.$createElement;return(t._self._c||e)("input",{staticClass:"input",class:{"is-error":t.isError},domProps:{value:t.modelValue},on:{input:t.handleInput,blur:function(e){return t.$emit("blur")}}})},[],!1,null,null,null).exports},props:{isVisible:{type:Boolean,default:!1}},data:function(){return{scrollPosition:0,isOpened:!1}},computed:w({},Object(o.c)({typeOptions:"".concat(d.e.COMMON,"/").concat(d.d.EVENT_TYPES),placeOptions:"".concat(d.e.COMMON,"/").concat(d.d.EVENT_PLACES),accessOptions:"".concat(d.e.COMMON,"/").concat(d.d.EVENT_ACCESSES),dateList:"".concat(d.e.COMMON,"/").concat(d.d.EVENT_DATES),timeList:"".concat(d.e.COMMON,"/").concat(d.d.EVENT_TIMES),search:"".concat(d.e.COMMON,"/").concat(d.d.SEARCH)}),{closeButtonText:function(){return this.isOpened?"> fela":"< leita"}}),watch:{isOpened:function(t){Object(C.a)(!t)}},methods:w({},Object(o.b)({handleTypeChange:"".concat(d.e.COMMON,"/").concat(d.a.SET_SELECTED_TYPE),handlePlaceChange:"".concat(d.e.COMMON,"/").concat(d.a.SET_SELECTED_PLACE),handleAccessChange:"".concat(d.e.COMMON,"/").concat(d.a.SET_SELECTED_ACCESS),handleDateChange:"".concat(d.e.COMMON,"/").concat(d.a.SET_SELECTED_DATE),handleTimeChange:"".concat(d.e.COMMON,"/").concat(d.a.SET_SELECTED_TIME),handleSearch:"".concat(d.e.COMMON,"/").concat(d.a.SET_SEARCH),clearItems:"".concat(d.e.COMMON,"/").concat(d.a.CLEAR_EVENTS),requestItems:"".concat(d.e.COMMON,"/").concat(d.a.REQUEST_EVENTS)}),{handleTime:function(option){this.handleTimeChange(option),this.handleSubmit()},handleDate:function(option){this.handleDateChange(option),this.handleSubmit()},handleSubmit:function(){this.requestItems({clear:!0})},toggle:function(){this.isOpened?this.close():this.open()},close:function(){this.isOpened=!1},open:function(){this.isOpened=!0}})},k=Object(S.a)(M,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"filters",class:{"is-visible":t.isVisible,"is-opened":t.isOpened}},[n("div",{staticClass:"filters__wrapper"},[n("div",{staticClass:"filters__container"},[n("button",{staticClass:"filters__close",attrs:{type:"button"},on:{click:t.toggle}},[t._v("\n        "+t._s(t.closeButtonText)+"\n      ")]),t._v(" "),n("form",{staticClass:"filters__inner",on:{submit:function(e){return e.preventDefault(),t.handleSubmit(e)}}},[n("div",{staticClass:"filters__fieldset"},[n("div",{staticClass:"filters__field"},[n("div",{staticClass:"filters__label"},[t._v("Dagsetning")]),t._v(" "),n("div",{staticClass:"filters__control"},[n("TagList",{staticClass:"filters__tag-list",attrs:{items:t.dateList},on:{change:t.handleDate}})],1)]),t._v(" "),n("div",{staticClass:"filters__field"},[n("div",{staticClass:"filters__label"},[t._v("Tími")]),t._v(" "),n("div",{staticClass:"filters__control"},[n("TagList",{staticClass:"filters__tag-list",attrs:{items:t.timeList},on:{change:t.handleTime}})],1)]),t._v(" "),n("div",{staticClass:"filters__field"},[n("div",{staticClass:"filters__label"},[t._v("Leitarorð")]),t._v(" "),n("div",{staticClass:"filters__control"},[n("Input",{staticClass:"filters__input",attrs:{"model-value":t.search,placeholder:"skrifaðu inn leitarorð"},on:{"model-changed":t.handleSearch}})],1)])]),t._v(" "),t._m(0)])])]),t._v(" "),n("div",{staticClass:"filters__overlay",on:{click:function(e){return e.preventDefault(),t.close(e)}}})])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"filters__footer"},[e("button",{staticClass:"btn",attrs:{type:"submit"}},[this._v("Leita")])])}],!1,null,null,null).exports;function L(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable})),e.push.apply(e,n)}return e}function N(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?L(source,!0).forEach(function(e){Object(r.a)(t,e,source[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):L(source).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))})}return t}var x={name:"EventList",components:{Header:m.a,Filters:k},props:{isVisible:{type:Boolean,default:!1}},data:function(){return{hidden:{},isFiltersVisible:!1,isDot:!0,date:null}},computed:N({},Object(o.c)({items:"".concat(d.e.COMMON,"/").concat(d.d.EVENTS_TILES),isLoading:"".concat(d.e.COMMON,"/").concat(d.d.LOADING)}),{isClient:function(){return Object(f.a)(function(){return!0})},fullDate:function(){var t=this.date;if(Object(v.a)(t)){var e=new Date(t),n=O.a.months[e.getMonth()],c=O.a.days[e.getDay()],l=e.getDate();return"".concat(c," ").concat(l,". ").concat(n)}return t}}),mounted:function(){this.toggleInfiniteScroll(!0),this.toggleReInitDotOnResize(!0)},destroyed:function(){this.toggleInfiniteScroll(!1),this.toggleReInitDotOnResize(!1)},methods:N({},Object(o.b)({requestEvents:"".concat(d.e.COMMON,"/").concat(d.a.REQUEST_EVENTS)}),{handleFixed:function(t){this.isFiltersVisible=t},handleScroll:function(t){var e=this,n=t.height,c=this.$refs.card,l=null;Array.isArray(c)&&c.forEach(function(t,i){if(e.$set(e.hidden,t.dataset.id,t.getBoundingClientRect().top<n/2),!(t.getBoundingClientRect().top<n/2||l)){l=t.dataset.id;var c=e.items.find(function(e){return e.id===t.dataset.id});e.date=Object(v.a)(c)?c.startDate:null}})},handleInfiniteScroll:function(){var t=Object(h.a)().y,e=document.body.scrollHeight;t+(window.innerHeight+10)<e||this.isLoading||(this.requestEvents(),console.log("final"))},toggleInfiniteScroll:function(t){var e=this;Object(f.a)(function(){t?window.addEventListener("scroll",e.handleInfiniteScroll):window.removeEventListener("scroll",e.handleInfiniteScroll)})},reInitDotOnResize:function(){var t=this;_(function(){t.isDot=!1,t.$nextTick(function(){t.isDot=!0})},50)},toggleReInitDotOnResize:function(t){var e=this;Object(f.a)(function(){t?window.addEventListener("resize",e.reInitDotOnResize):window.removeEventListener("resize",e.reInitDotOnResize)})}})},I=Object(S.a)(x,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"event-list",attrs:{"data-section":"event-list"}},[n("Header",{ref:"header",attrs:{"is-visible":t.isVisible,date:t.fullDate},on:{scroll:t.handleScroll,fixed:t.handleFixed}}),t._v(" "),n("Filters",{attrs:{"is-visible":t.isFiltersVisible}}),t._v(" "),n("div",{staticClass:"container event-list__container"},[n("div",{staticClass:"content"},[n("div",{staticClass:"event-list__inner"},[n("div",{staticClass:"event-list__items"},t._l(t.items,function(e){return n("div",{key:e.id,ref:"card",refInFor:!0,staticClass:"event-list__item",attrs:{"data-id":e.id}},[n("NuxtLink",{staticClass:"event-list__item-link",class:{"is-hidden":t.hidden[e.id]},attrs:{to:e.page}},[n("div",{staticClass:"event-list__item-img",style:{"background-image":"url("+e.img+")"}},[n("div",{staticClass:"event-list__item-date small"},[n("strong",[t._v(t._s(e.date))])])]),t._v(" "),n("div",{staticClass:"event-list__item-content"},[t.isClient&&t.isDot?n("Dot",{staticClass:"event-list__item-title title-md",attrs:{msg:e.title,line:2}}):n("div",{staticClass:"event-list__item-title title-md"},[t._v("\n                  "+t._s(e.title)+"\n                ")]),t._v(" "),n("div",{staticClass:"event-list__item-text small"},[t._v(t._s(e.text))])],1)])],1)}),0)])])])],1)},[],!1,null,null,null).exports,P={name:"Index",components:{WithScroll:l.a,EventList:I},computed:{section:function(){return{eventList:"eventList"}}},methods:{showSection:function(t){var section=this.$refs[t];section&&"function"==typeof section.show&&section.show()}}},$=Object(S.a)(P,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main"},[n("WithScroll",{on:{visible:function(e){return t.showSection(t.section.eventList)}},scopedSlots:t._u([{key:"default",fn:function(e){var c=e.isVisible;return[n("EventList",{ref:t.section.header,attrs:{"is-visible":c}})]}}])})],1)},[],!1,null,null,null);e.default=$.exports}}]);