(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{202:function(t,e,n){"use strict";n(36);var c={name:"Icon",props:{name:{type:String,required:!0}},computed:{className:function(){return"icon icon-".concat(this.name)}}},l=n(10),component=Object(l.a)(c,function(){var t=this.$createElement;return(this._self._c||t)("i",{class:this.className})},[],!1,null,null,null);e.a=component.exports},203:function(t,e,n){"use strict";n(25),n(19),n(13),n(8),n(20);var c=n(2),l=(n(51),n(67),n(23)),r=n(0),o=n(7);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable})),e.push.apply(e,n)}return e}function h(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(source,!0).forEach(function(e){Object(c.a)(t,e,source[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(source).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))})}return t}var f={name:"Header",props:{type:{type:String,default:"",validator:function(t){return!t.length||["static"].includes(t)}},date:{type:String,default:""}},data:function(){return{isFixed:!1,minHeight:null}},computed:h({},Object(l.c)({tabs:"".concat(r.e.COMMON,"/").concat(r.d.VIEWS)}),{classes:function(){return this.type&&"header_".concat(this.type)},isStatic:function(){return"static"===this.type},hasDate:function(){return this.date&&this.date.length}}),mounted:function(){var t=this;Object(o.a)(function(){return!t.isStatic&&window.addEventListener("scroll",t.handleScroll)})},destroyed:function(){var t=this;Object(o.a)(function(){return!t.isStatic&&window.removeEventListener("scroll",t.handleScroll)})},methods:h({},Object(l.b)({changeView:"".concat(r.e.COMMON,"/").concat(r.a.CHANGE_VIEW)}),{handleScroll:function(){var t=this.$refs,e=t.inner;t.main.getBoundingClientRect().top>0?(this.isFixed=!1,this.minHeight=null,this.$emit("fixed",!1)):(this.isFixed=!0,this.minHeight="".concat(e.offsetHeight,"px"),this.$emit("fixed",!0)),this.$emit("scroll",{height:e.offsetHeight})}})},_=n(10),component=Object(_.a)(f,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{ref:"main",staticClass:"header",class:t.classes,style:{"min-height":t.minHeight}},[n("div",{ref:"inner",staticClass:"header__inner",class:{"is-fixed":t.isFixed}},[n("div",{staticClass:"container header__container"},[n("div",{staticClass:"title-xl header__title"},[t._v("SafnaÃ°u")]),t._v(" "),n("ul",{staticClass:"header__tabs"},t._l(t.tabs,function(e){return n("li",{key:e.target,staticClass:"header__tabs-item"},[e.isLink?n("a",{staticClass:"header__tabs-btn",attrs:{href:e.href,target:"_blank",rel:"noopener noreferrer nofollow"}},[t._v(t._s(e.text))]):n("button",{staticClass:"header__tabs-btn",class:{"is-active":e.isActive},on:{click:function(n){return n.preventDefault(),t.changeView(e.target)}}},[t._v("\n            "+t._s(e.text)+"\n          ")])])}),0),t._v(" "),t.hasDate?n("div",{staticClass:"header__date"},[n("div",{staticClass:"header__date-in"},[t._v(t._s(t.date))])]):t._e()])])])},[],!1,null,null,null);e.a=component.exports},209:function(t,e,n){"use strict";n(25),n(19),n(13),n(8),n(20),n(87);var c,l=n(2),r=n(23),o=n(0),d=n(7),h=n(39),f=(c=null,function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;c&&clearTimeout(c),c=setTimeout(function(){return t()},e)}),_=n(24),v=n(48),O=n(203),m=n(108),C={name:"Select",props:{options:{type:Array,default:function(){return[]},validator:function(t){return!t.length||t.every(function(option){return Object(_.a)(option.id)&&Object(_.a)(option.text)})}}},data:function(){return{isOpened:!1}},computed:{hasOptions:function(){return this.options.length},value:function(){return this.options.find(function(option){return option.isSelected})||{}}},watch:{isOpened:function(t){var e=this;Object(d.a)(function(){t?document.addEventListener("click",e.handleClose):document.removeEventListener("click",e.handleClose)})}},methods:{toggle:function(){this.isOpened?this.close():this.open()},close:function(){this.isOpened=!1},open:function(){this.isOpened=!0},handleChange:function(option){this.$emit("change",option),this.close()},handleClose:function(t){var select=t.target.closest(".select");select&&select===this.$refs.select||this.close()}}},E=n(10),y=Object(E.a)(C,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"select",staticClass:"select"},[n("div",{staticClass:"select__header",on:{click:function(e){return e.preventDefault(),t.toggle(e)}}},[n("div",{staticClass:"select__value"},[t._t("value",[t._v(t._s(t.value.text))],{value:t.value})],2),t._v(" "),n("div",{staticClass:"select__arrow"},[t._v(">")])]),t._v(" "),t.hasOptions&&t.isOpened?n("div",{staticClass:"select__body"},[n("ul",{staticClass:"select__list"},t._l(t.options,function(option){return n("li",{key:option.id,staticClass:"select__option",on:{click:function(e){return e.preventDefault(),t.handleChange(option)}}},[t._t("option",[t._v(t._s(option.text))])],2)}),0)]):t._e()])},[],!1,null,null,null).exports,S={name:"Tag",components:{Icon:n(202).a},props:{isSelected:{type:Boolean,default:!1}}},D={name:"TagList",components:{Tag:Object(E.a)(S,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tag",class:{"is-selected":t.isSelected}},[n("button",{staticClass:"tag__btn",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.$emit("click")}}},[t._t("default")],2),t._v(" "),n("button",{staticClass:"tag__close",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.$emit("clear")}}},[n("Icon",{staticClass:"tag__close-icon",attrs:{name:"close"}})],1)])},[],!1,null,null,null).exports},props:{items:{type:Array,default:function(){return[]},validator:function(t){return!t.length||t.every(function(option){return Object(_.a)(option.id)&&Object(_.a)(option.text)})}}},data:function(){return{isOpened:!1,value:null,oldDate:null}},watch:{isOpened:function(t){var e=this;Object(d.a)(function(){return t?document.addEventListener("click",e.closeOnOutsideClick,!0):document.removeEventListener("click",e.closeOnOutsideClick,!0)})}},methods:{handleClear:function(){this.$emit("change",{value:null})},handleClearDatepicker:function(){this.handleClear(),this.oldDate=null,this.value=null},handleClick:function(t){this.$emit("change",t)},handleSelected:function(t){var e=this;this.oldDate&&t&&this.oldDate.getTime()===t.getTime()?this.$nextTick(function(){e.value=null,e.oldDate=null}):this.oldDate=t,this.handleClick({value:t}),this.close()},closeOnOutsideClick:function(t){var e=this;t.path.some(function(t){return t===e.$refs.datepicker})||this.close()},toggle:function(){this.isOpened?this.close():this.open()},open:function(){this.isOpened=!0},close:function(){this.isOpened=!1}}},j=Object(E.a)(D,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tag-list"},[n("ul",{staticClass:"tag-list__list"},t._l(t.items,function(e){return n("li",{key:e.id,staticClass:"tag-list__item"},[e.isDatepicker?n("Tag",{attrs:{"is-selected":e.isSelected},on:{click:t.toggle,clear:t.handleClearDatepicker}},[t._v("\n        "+t._s(e.text)+"\n      ")]):n("Tag",{attrs:{"is-selected":e.isSelected},on:{click:function(n){return t.handleClick(e)},clear:function(n){return t.handleClear(e)}}},[t._v("\n        "+t._s(e.text)+"\n      ")])],1)}),0),t._v(" "),t.isOpened?[n("no-ssr",[n("div",{ref:"datepicker"},[n("Datepicker",{staticClass:"tag-list__datepicker",attrs:{inline:!0},on:{selected:t.handleSelected},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)])]:t._e()],2)},[],!1,null,null,null).exports,T=(n(125),{name:"Input",model:{prop:"modelValue",event:"model-changed"},props:{modelValue:{type:[String,Number],default:""},isError:{type:Boolean,default:!1}},methods:{handleInput:function(t){this.$emit("model-changed",t.target.value),this.$emit("input",t)}}});function w(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable})),e.push.apply(e,n)}return e}function k(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?w(source,!0).forEach(function(e){Object(l.a)(t,e,source[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):w(source).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))})}return t}var M={name:"Filters",components:{Select:y,TagList:j,Input:Object(E.a)(T,function(){var t=this,e=t.$createElement;return(t._self._c||e)("input",{staticClass:"input",class:{"is-error":t.isError},domProps:{value:t.modelValue},on:{input:t.handleInput,blur:function(e){return t.$emit("blur")}}})},[],!1,null,null,null).exports},props:{isVisible:{type:Boolean,default:!1}},data:function(){return{scrollPosition:0,isOpened:!1}},computed:k({},Object(r.c)({typeOptions:"".concat(o.e.COMMON,"/").concat(o.d.EVENT_TYPES),placeOptions:"".concat(o.e.COMMON,"/").concat(o.d.EVENT_PLACES),accessOptions:"".concat(o.e.COMMON,"/").concat(o.d.EVENT_ACCESSES),dateList:"".concat(o.e.COMMON,"/").concat(o.d.EVENT_DATES),timeList:"".concat(o.e.COMMON,"/").concat(o.d.EVENT_TIMES),search:"".concat(o.e.COMMON,"/").concat(o.d.SEARCH)}),{closeButtonText:function(){return this.isOpened?"> fela":"< leita"}}),watch:{isOpened:function(t){Object(m.a)(!t)}},methods:k({},Object(r.b)({handleTypeChange:"".concat(o.e.COMMON,"/").concat(o.a.SET_SELECTED_TYPE),handlePlaceChange:"".concat(o.e.COMMON,"/").concat(o.a.SET_SELECTED_PLACE),handleAccessChange:"".concat(o.e.COMMON,"/").concat(o.a.SET_SELECTED_ACCESS),handleDateChange:"".concat(o.e.COMMON,"/").concat(o.a.SET_SELECTED_DATE),handleTimeChange:"".concat(o.e.COMMON,"/").concat(o.a.SET_SELECTED_TIME),handleSearch:"".concat(o.e.COMMON,"/").concat(o.a.SET_SEARCH),clearItems:"".concat(o.e.COMMON,"/").concat(o.a.CLEAR_EVENTS),requestItems:"".concat(o.e.COMMON,"/").concat(o.a.REQUEST_EVENTS)}),{handleType:function(option){this.handleTypeChange(option),this.requestItems({clear:!0})},handleTime:function(option){this.handleTimeChange(option),this.requestItems({clear:!0})},handleDate:function(option){this.handleDateChange(option),this.requestItems({clear:!0})},handleSubmit:function(){var t,e=this;this.requestItems({clear:!0}),t=function(){return e.close()},Object(d.a)(function(){return window.matchMedia("(max-width: 560px)").matches&&t()})},toggle:function(){this.isOpened?this.close():this.open()},close:function(){this.isOpened=!1},open:function(){this.isOpened=!0}})},x=Object(E.a)(M,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"filters",class:{"is-visible":t.isVisible,"is-opened":t.isOpened}},[n("div",{staticClass:"filters__wrapper"},[n("div",{staticClass:"filters__container"},[n("button",{staticClass:"filters__close",attrs:{type:"button"},on:{click:t.toggle}},[t._v("\n        "+t._s(t.closeButtonText)+"\n      ")]),t._v(" "),n("form",{staticClass:"filters__inner",on:{submit:function(e){return e.preventDefault(),t.handleSubmit(e)}}},[n("div",{staticClass:"filters__fieldset"},[n("div",{staticClass:"filters__field"},[n("div",{staticClass:"filters__label"},[t._v("Tegund")]),t._v(" "),n("div",{staticClass:"filters__control"},[n("Select",{attrs:{options:t.typeOptions},on:{change:t.handleType}})],1)]),t._v(" "),n("div",{staticClass:"filters__field"},[n("div",{staticClass:"filters__label"},[t._v("Dagsetning")]),t._v(" "),n("div",{staticClass:"filters__control"},[n("TagList",{staticClass:"filters__tag-list",attrs:{items:t.dateList},on:{change:t.handleDate}})],1)]),t._v(" "),n("div",{staticClass:"filters__field"},[n("div",{staticClass:"filters__label"},[t._v("TÃ­mi")]),t._v(" "),n("div",{staticClass:"filters__control"},[n("TagList",{staticClass:"filters__tag-list",attrs:{items:t.timeList},on:{change:t.handleTime}})],1)]),t._v(" "),n("div",{staticClass:"filters__field"},[n("div",{staticClass:"filters__label"},[t._v("LeitarorÃ°")]),t._v(" "),n("div",{staticClass:"filters__control"},[n("Input",{staticClass:"filters__input",attrs:{"model-value":t.search,placeholder:"skrifaÃ°u inn leitarorÃ°"},on:{"model-changed":t.handleSearch}})],1)])]),t._v(" "),t._m(0)])])]),t._v(" "),n("div",{staticClass:"filters__overlay",on:{click:function(e){return e.preventDefault(),t.close(e)}}})])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"filters__footer"},[e("button",{staticClass:"btn",attrs:{type:"submit"}},[this._v("Leita")])])}],!1,null,null,null).exports;function L(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable})),e.push.apply(e,n)}return e}function I(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?L(source,!0).forEach(function(e){Object(l.a)(t,e,source[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):L(source).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))})}return t}var N={name:"EventList",components:{Header:O.a,Filters:x},props:{isVisible:{type:Boolean,default:!1}},data:function(){return{hidden:{},isFiltersVisible:!1,isDot:!0,date:null}},computed:I({},Object(r.c)({items:"".concat(o.e.COMMON,"/").concat(o.d.EVENTS_TILES),isLoading:"".concat(o.e.COMMON,"/").concat(o.d.LOADING)}),{hasItems:function(){return!!this.items.length},isClient:function(){return Object(d.a)(function(){return!0})},fullDate:function(){var t=this.date;if(Object(_.a)(t)){var e=new Date(t),n=v.a.months[e.getMonth()],c=v.a.days[e.getDay()],l=e.getDate();return"".concat(c," ").concat(l,". ").concat(n)}return t}}),mounted:function(){this.toggleInfiniteScroll(!0),this.toggleReInitDotOnResize(!0)},destroyed:function(){this.toggleInfiniteScroll(!1),this.toggleReInitDotOnResize(!1)},methods:I({},Object(r.b)({requestEvents:"".concat(o.e.COMMON,"/").concat(o.a.REQUEST_EVENTS)}),{handleFixed:function(t){this.isFiltersVisible=t},handleScroll:function(t){var e=this,n=t.height,c=this.$refs.card,l=null;Array.isArray(c)&&c.forEach(function(t,i){if(e.$set(e.hidden,t.dataset.id,t.getBoundingClientRect().top<n/2),!(t.getBoundingClientRect().top<n/2||l)){l=t.dataset.id;var c=e.items.find(function(e){return e.id===t.dataset.id});e.date=Object(_.a)(c)?c.startDate:null}})},handleInfiniteScroll:function(){var t=Object(h.a)().y,e=document.body.scrollHeight;t+(window.innerHeight+10)<e||this.isLoading||(this.requestEvents(),console.log("final"))},toggleInfiniteScroll:function(t){var e=this;Object(d.a)(function(){t?window.addEventListener("scroll",e.handleInfiniteScroll):window.removeEventListener("scroll",e.handleInfiniteScroll)})},reInitDotOnResize:function(){var t=this;f(function(){t.isDot=!1,t.$nextTick(function(){t.isDot=!0})},50)},toggleReInitDotOnResize:function(t){var e=this;Object(d.a)(function(){t?window.addEventListener("resize",e.reInitDotOnResize):window.removeEventListener("resize",e.reInitDotOnResize)})}})},P=Object(E.a)(N,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"event-list",attrs:{"data-section":"event-list"}},[n("Header",{ref:"header",attrs:{"is-visible":t.isVisible,date:t.fullDate},on:{scroll:t.handleScroll,fixed:t.handleFixed}}),t._v(" "),n("Filters",{attrs:{"is-visible":t.isFiltersVisible}}),t._v(" "),n("div",{staticClass:"container event-list__container"},[n("div",{staticClass:"content"},[n("div",{staticClass:"event-list__inner"},[t.isLoading?n("div",{staticClass:"event-list__loader"},[t._v("Loading...")]):t.hasItems?n("div",{staticClass:"event-list__items"},t._l(t.items,function(e){return n("div",{key:e.id,ref:"card",refInFor:!0,staticClass:"event-list__item",attrs:{"data-id":e.id}},[n("NuxtLink",{staticClass:"event-list__item-link",class:{"is-hidden":t.hidden[e.id]},attrs:{to:e.page}},[n("div",{staticClass:"event-list__item-img",style:{"background-image":"url("+e.img+")"}},[n("div",{staticClass:"event-list__item-date small"},[n("strong",[t._v(t._s(e.date))])])]),t._v(" "),n("div",{staticClass:"event-list__item-content"},[t.isClient&&t.isDot?n("Dot",{staticClass:"event-list__item-title title-md",attrs:{msg:e.title,line:2}}):n("div",{staticClass:"event-list__item-title title-md"},[t._v("\n                  "+t._s(e.title)+"\n                ")]),t._v(" "),n("div",{staticClass:"event-list__item-text small"},[t._v(t._s(e.text))])],1)])],1)}),0):t._e()])])])],1)},[],!1,null,null,null);e.a=P.exports}}]);